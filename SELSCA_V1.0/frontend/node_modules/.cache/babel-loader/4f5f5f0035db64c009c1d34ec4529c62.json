{"ast":null,"code":"import { alignBox as e, Container as t, useTheme as o, useDimensions as n, useValueFormatter as i, SvgWrapper as r, ResponsiveWrapper as a, degreesToRadians as d, isCursorInRect as l, getRelativeCursor as c } from \"@nivo/core\";\nimport { BoxLegendSvg as h, renderLegendToCanvas as u } from \"@nivo/legends\";\nimport * as s from \"react\";\nimport { memo as g, useCallback as f, useMemo as m, createElement as v, useRef as y, useState as p, useEffect as x } from \"react\";\nimport { jsx as b, Fragment as S, jsxs as w } from \"react/jsx-runtime\";\nimport { useTooltip as L, BasicTooltip as W } from \"@nivo/tooltip\";\nimport { timeFormat as M } from \"d3-time-format\";\nimport { scaleQuantize as C } from \"d3-scale\";\nimport k from \"lodash/range\";\nimport z from \"lodash/memoize\";\nimport V from \"lodash/isDate\";\nimport { timeWeek as O, timeYear as I, timeWeeks as H, timeDays as D, timeMonths as B, timeDay as E } from \"d3-time\";\nfunction P() {\n  return P = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var o = arguments[t];\n      for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n    }\n    return e;\n  }, P.apply(this, arguments);\n}\nfunction F(e, t) {\n  if (null == e) return {};\n  var o,\n    n,\n    i = {},\n    r = Object.keys(e);\n  for (n = 0; n < r.length; n++) o = r[n], t.indexOf(o) >= 0 || (i[o] = e[o]);\n  return i;\n}\nvar R,\n  T = g(function (e) {\n    var t = e.years,\n      o = e.legend,\n      n = e.theme;\n    return b(S, {\n      children: t.map(function (e) {\n        return b(\"text\", {\n          transform: \"translate(\" + e.x + \",\" + e.y + \") rotate(\" + e.rotation + \")\",\n          textAnchor: \"middle\",\n          style: n.labels.text,\n          children: o(e.year)\n        }, e.year);\n      })\n    });\n  }),\n  Y = g(function (e) {\n    var t = e.path,\n      o = e.borderWidth,\n      n = e.borderColor;\n    return b(\"path\", {\n      d: t,\n      style: {\n        fill: \"none\",\n        strokeWidth: o,\n        stroke: n,\n        pointerEvents: \"none\"\n      }\n    });\n  }),\n  j = g(function (e) {\n    var t = e.months,\n      o = e.legend,\n      n = e.theme;\n    return b(S, {\n      children: t.map(function (e) {\n        return b(\"text\", {\n          transform: \"translate(\" + e.x + \",\" + e.y + \") rotate(\" + e.rotation + \")\",\n          textAnchor: \"middle\",\n          style: n.labels.text,\n          children: o(e.year, e.month, e.date)\n        }, e.date.toString() + \".legend\");\n      })\n    });\n  }),\n  q = g(function (e) {\n    var t = e.data,\n      o = e.x,\n      n = e.y,\n      i = e.size,\n      r = e.color,\n      a = e.borderWidth,\n      d = e.borderColor,\n      l = e.isInteractive,\n      c = e.tooltip,\n      h = e.onMouseEnter,\n      u = e.onMouseMove,\n      g = e.onMouseLeave,\n      m = e.onClick,\n      v = e.formatValue,\n      y = L(),\n      p = y.showTooltipFromEvent,\n      x = y.hideTooltip,\n      S = f(function (e) {\n        if (\"value\" in t) {\n          var o = P({}, t, {\n            value: v(t.value),\n            data: P({}, t.data)\n          });\n          p(s.createElement(c, P({}, o)), e), null == h || h(t, e);\n        }\n      }, [p, c, t, h, v]),\n      w = f(function (e) {\n        if (\"value\" in t) {\n          var o = P({}, t, {\n            value: v(t.value),\n            data: P({}, t.data)\n          });\n          p(s.createElement(c, P({}, o)), e), u && u(t, e);\n        }\n      }, [p, c, t, u, v]),\n      W = f(function (e) {\n        \"value\" in t && (x(), null == g || g(t, e));\n      }, [x, t, g]),\n      M = f(function (e) {\n        return null == m ? void 0 : m(t, e);\n      }, [t, m]);\n    return b(\"rect\", {\n      x: o,\n      y: n,\n      width: i,\n      height: i,\n      style: {\n        fill: r,\n        strokeWidth: a,\n        stroke: d\n      },\n      onMouseEnter: l ? S : void 0,\n      onMouseMove: l ? w : void 0,\n      onMouseLeave: l ? W : void 0,\n      onClick: l ? M : void 0\n    });\n  }),\n  A = g(function (e) {\n    var t = e.value,\n      o = e.day,\n      n = e.color;\n    return void 0 === t || isNaN(Number(t)) ? null : b(W, {\n      id: o,\n      value: t,\n      color: n,\n      enableChip: !0\n    });\n  }),\n  X = M(\"%b\"),\n  N = {\n    colors: [\"#61cdbb\", \"#97e3d5\", \"#e8c1a0\", \"#f47560\"],\n    align: \"center\",\n    direction: \"horizontal\",\n    emptyColor: \"#fff\",\n    minValue: 0,\n    maxValue: \"auto\",\n    yearSpacing: 30,\n    yearLegend: function yearLegend(e) {\n      return e;\n    },\n    yearLegendPosition: \"before\",\n    yearLegendOffset: 10,\n    monthBorderWidth: 2,\n    monthBorderColor: \"#000\",\n    monthSpacing: 0,\n    monthLegend: function monthLegend(e, t, o) {\n      return X(o);\n    },\n    monthLegendPosition: \"before\",\n    monthLegendOffset: 10,\n    daySpacing: 0,\n    dayBorderWidth: 1,\n    dayBorderColor: \"#000\",\n    isInteractive: !0,\n    legends: [],\n    tooltip: A\n  },\n  Z = P({}, N, {\n    role: \"img\"\n  }),\n  G = P({}, N, {\n    pixelRatio: \"undefined\" != typeof window && null != (R = window.devicePixelRatio) ? R : 1\n  }),\n  J = P({}, Z, {\n    dayBorderColor: \"#fff\",\n    dayRadius: 0,\n    square: !0,\n    weekdayLegendOffset: 75\n  }),\n  K = function K(e, t, o) {\n    var n = e.map(function (e) {\n      return e.value;\n    });\n    return [\"auto\" === t ? Math.min.apply(Math, n) : t, \"auto\" === o ? Math.max.apply(Math, n) : o];\n  },\n  Q = z(function (e) {\n    var t,\n      o = e.date,\n      n = e.cellSize,\n      i = e.yearIndex,\n      r = e.yearSpacing,\n      a = e.monthSpacing,\n      d = e.daySpacing,\n      l = e.direction,\n      c = e.originX,\n      h = e.originY,\n      u = new Date(o.getFullYear(), o.getMonth() + 1, 0),\n      s = O.count(I(o), o),\n      g = O.count(I(u), u),\n      f = o.getDay(),\n      m = u.getDay(),\n      v = c,\n      y = h,\n      p = i * (7 * (n + d) + r),\n      x = o.getMonth() * a;\n    \"horizontal\" === l ? (y += p, v += x) : (y += x, v += p);\n    var b = {\n      x: v,\n      y: y,\n      width: 0,\n      height: 0\n    };\n    return \"horizontal\" === l ? (t = [\"M\" + (v + (s + 1) * (n + d)) + \",\" + (y + f * (n + d)), \"H\" + (v + s * (n + d)) + \"V\" + (y + 7 * (n + d)), \"H\" + (v + g * (n + d)) + \"V\" + (y + (m + 1) * (n + d)), \"H\" + (v + (g + 1) * (n + d)) + \"V\" + y, \"H\" + (v + (s + 1) * (n + d)) + \"Z\"].join(\"\"), b.x = v + s * (n + d), b.width = v + (g + 1) * (n + d) - b.x, b.height = 7 * (n + d)) : (t = [\"M\" + (v + f * (n + d)) + \",\" + (y + (s + 1) * (n + d)), \"H\" + v + \"V\" + (y + (g + 1) * (n + d)), \"H\" + (v + (m + 1) * (n + d)) + \"V\" + (y + g * (n + d)), \"H\" + (v + 7 * (n + d)) + \"V\" + (y + s * (n + d)), \"H\" + (v + f * (n + d)) + \"Z\"].join(\"\"), b.y = y + s * (n + d), b.width = 7 * (n + d), b.height = y + (g + 1) * (n + d) - b.y), {\n      path: t,\n      bbox: b\n    };\n  }, function (e) {\n    var t = e.date,\n      o = e.cellSize,\n      n = e.yearIndex,\n      i = e.yearSpacing,\n      r = e.monthSpacing,\n      a = e.daySpacing,\n      d = e.direction,\n      l = e.originX,\n      c = e.originY;\n    return t.toString() + \".\" + o + \".\" + n + \".\" + i + \".\" + r + \".\" + a + \".\" + d + \".\" + l + \".\" + c;\n  }),\n  U = M(\"%Y-%m-%d\"),\n  $ = function $(t) {\n    var o,\n      n = t.width,\n      i = t.height,\n      r = t.from,\n      a = t.to,\n      d = t.direction,\n      l = t.yearSpacing,\n      c = t.monthSpacing,\n      h = t.daySpacing,\n      u = t.align,\n      s = V(r) ? r : new Date(r),\n      g = V(a) ? a : new Date(a),\n      f = k(s.getFullYear(), g.getFullYear() + 1),\n      m = Math.max.apply(Math, f.map(function (e) {\n        return H(new Date(e, 0, 1), new Date(e + 1, 0, 1)).length;\n      })) + 1,\n      v = function (e) {\n        var t,\n          o,\n          n = e.width,\n          i = e.height,\n          r = e.direction,\n          a = e.yearRange,\n          d = e.yearSpacing,\n          l = e.monthSpacing,\n          c = e.daySpacing,\n          h = e.maxWeeks;\n        return \"horizontal\" === r ? (t = (n - 12 * l - c * h) / h, o = (i - (a.length - 1) * d - a.length * (8 * c)) / (7 * a.length)) : (t = (n - (a.length - 1) * d - a.length * (8 * c)) / (7 * a.length), o = (i - 12 * l - c * h) / h), Math.min(t, o);\n      }({\n        width: n,\n        height: i,\n        direction: d,\n        yearRange: f,\n        yearSpacing: l,\n        monthSpacing: c,\n        daySpacing: h,\n        maxWeeks: m\n      }),\n      y = v * m + h * m + 12 * c,\n      p = 7 * (v + h) * f.length + l * (f.length - 1),\n      x = \"horizontal\" === d ? y : p,\n      b = \"horizontal\" === d ? p : y,\n      S = e({\n        x: 0,\n        y: 0,\n        width: x,\n        height: b\n      }, {\n        x: 0,\n        y: 0,\n        width: n,\n        height: i\n      }, u),\n      w = S[0],\n      L = S[1];\n    o = \"horizontal\" === d ? function (e, t, o, n) {\n      return function (i, r, a, d) {\n        return {\n          x: i + O.count(I(a), a) * (e + n) + n / 2 + a.getMonth() * o,\n          y: r + a.getDay() * (e + n) + n / 2 + d * (t + 7 * (e + n))\n        };\n      };\n    }(v, l, c, h) : function (e, t, o, n) {\n      return function (i, r, a, d) {\n        var l = O.count(I(a), a);\n        return {\n          x: i + a.getDay() * (e + n) + n / 2 + d * (t + 7 * (e + n)),\n          y: r + l * (e + n) + n / 2 + a.getMonth() * o\n        };\n      };\n    }(v, l, c, h);\n    var W = [],\n      M = [],\n      C = [];\n    return f.forEach(function (e, t) {\n      var n = new Date(e, 0, 1),\n        i = new Date(e + 1, 0, 1);\n      C = C.concat(D(n, i).map(function (e) {\n        return P({\n          date: e,\n          day: U(e),\n          size: v\n        }, o(w, L, e, t));\n      }));\n      var r = B(n, i).map(function (e) {\n        return P({\n          date: e,\n          year: e.getFullYear(),\n          month: e.getMonth()\n        }, Q({\n          originX: w,\n          originY: L,\n          date: e,\n          direction: d,\n          yearIndex: t,\n          yearSpacing: l,\n          monthSpacing: c,\n          daySpacing: h,\n          cellSize: v\n        }));\n      });\n      M = M.concat(r), W.push({\n        year: e,\n        bbox: {\n          x: r[0].bbox.x,\n          y: r[0].bbox.y,\n          width: r[11].bbox.x - r[0].bbox.x + r[11].bbox.width,\n          height: r[11].bbox.y - r[0].bbox.y + r[11].bbox.height\n        }\n      });\n    }), {\n      years: W,\n      months: M,\n      days: C,\n      cellSize: v,\n      calendarWidth: x,\n      calendarHeight: b,\n      originX: w,\n      originY: L\n    };\n  },\n  _ = function _(e) {\n    var t = e.days,\n      o = e.data,\n      n = e.colorScale,\n      i = e.emptyColor;\n    return t.map(function (e) {\n      var t = o.find(function (t) {\n        return t.day === e.day;\n      });\n      return P({}, e, t ? {\n        color: n(t.value),\n        data: t,\n        value: t.value\n      } : {\n        color: i\n      });\n    });\n  },\n  ee = function ee(e) {\n    var t = e.years,\n      o = e.direction,\n      n = e.position,\n      i = e.offset;\n    return t.map(function (e) {\n      var t = 0,\n        r = 0,\n        a = 0;\n      return \"horizontal\" === o && \"before\" === n ? (t = e.bbox.x - i, r = e.bbox.y + e.bbox.height / 2, a = -90) : \"horizontal\" === o && \"after\" === n ? (t = e.bbox.x + e.bbox.width + i, r = e.bbox.y + e.bbox.height / 2, a = -90) : \"vertical\" === o && \"before\" === n ? (t = e.bbox.x + e.bbox.width / 2, r = e.bbox.y - i) : (t = e.bbox.x + e.bbox.width / 2, r = e.bbox.y + e.bbox.height + i), P({}, e, {\n        x: t,\n        y: r,\n        rotation: a\n      });\n    });\n  },\n  te = function te(e) {\n    var t = e.months,\n      o = e.direction,\n      n = e.position,\n      i = e.offset;\n    return t.map(function (e) {\n      var t = 0,\n        r = 0,\n        a = 0;\n      return \"horizontal\" === o && \"before\" === n ? (t = e.bbox.x + e.bbox.width / 2, r = e.bbox.y - i) : \"horizontal\" === o && \"after\" === n ? (t = e.bbox.x + e.bbox.width / 2, r = e.bbox.y + e.bbox.height + i) : \"vertical\" === o && \"before\" === n ? (t = e.bbox.x - i, r = e.bbox.y + e.bbox.height / 2, a = -90) : (t = e.bbox.x + e.bbox.width + i, r = e.bbox.y + e.bbox.height / 2, a = -90), P({}, e, {\n        x: t,\n        y: r,\n        rotation: a\n      });\n    });\n  },\n  oe = function oe(e) {\n    var t = e.width,\n      o = e.height,\n      n = e.from,\n      i = e.to,\n      r = e.direction,\n      a = e.yearSpacing,\n      d = e.monthSpacing,\n      l = e.daySpacing,\n      c = e.align;\n    return m(function () {\n      return $({\n        width: t,\n        height: o,\n        from: n,\n        to: i,\n        direction: r,\n        yearSpacing: a,\n        monthSpacing: d,\n        daySpacing: l,\n        align: c\n      });\n    }, [t, o, n, i, r, a, d, l, c]);\n  },\n  ne = function ne(e) {\n    var t = e.data,\n      o = e.minValue,\n      n = e.maxValue,\n      i = e.colors,\n      r = e.colorScale;\n    return m(function () {\n      if (r) return r;\n      var e = K(t, o, n);\n      return C().domain(e).range(i);\n    }, [t, o, n, i, r]);\n  },\n  ie = function ie(e) {\n    var t = e.years,\n      o = e.direction,\n      n = e.yearLegendPosition,\n      i = e.yearLegendOffset;\n    return m(function () {\n      return ee({\n        years: t,\n        direction: o,\n        position: n,\n        offset: i\n      });\n    }, [t, o, n, i]);\n  },\n  re = function re(e) {\n    var t = e.months,\n      o = e.direction,\n      n = e.monthLegendPosition,\n      i = e.monthLegendOffset;\n    return m(function () {\n      return te({\n        months: t,\n        direction: o,\n        position: n,\n        offset: i\n      });\n    }, [t, o, n, i]);\n  },\n  ae = function ae(e) {\n    var t = e.days,\n      o = e.data,\n      n = e.colorScale,\n      i = e.emptyColor;\n    return m(function () {\n      return _({\n        days: t,\n        data: o,\n        colorScale: n,\n        emptyColor: i\n      });\n    }, [t, o, n, i]);\n  },\n  de = [\"months\", \"years\"],\n  le = [\"isInteractive\", \"renderWrapper\", \"theme\"],\n  ce = function ce(e) {\n    var t = e.margin,\n      a = e.width,\n      d = e.height,\n      l = e.align,\n      c = void 0 === l ? Z.align : l,\n      u = e.colors,\n      s = void 0 === u ? Z.colors : u,\n      g = e.colorScale,\n      f = e.data,\n      m = e.direction,\n      v = void 0 === m ? Z.direction : m,\n      y = e.emptyColor,\n      p = void 0 === y ? Z.emptyColor : y,\n      x = e.from,\n      S = e.to,\n      L = e.minValue,\n      W = void 0 === L ? Z.minValue : L,\n      M = e.maxValue,\n      C = void 0 === M ? Z.maxValue : M,\n      k = e.valueFormat,\n      z = e.legendFormat,\n      V = e.yearLegend,\n      O = void 0 === V ? Z.yearLegend : V,\n      I = e.yearLegendOffset,\n      H = void 0 === I ? Z.yearLegendOffset : I,\n      D = e.yearLegendPosition,\n      B = void 0 === D ? Z.yearLegendPosition : D,\n      E = e.yearSpacing,\n      R = void 0 === E ? Z.yearSpacing : E,\n      A = e.monthBorderColor,\n      X = void 0 === A ? Z.monthBorderColor : A,\n      N = e.monthBorderWidth,\n      G = void 0 === N ? Z.monthBorderWidth : N,\n      J = e.monthLegend,\n      K = void 0 === J ? Z.monthLegend : J,\n      Q = e.monthLegendOffset,\n      U = void 0 === Q ? Z.monthLegendOffset : Q,\n      $ = e.monthLegendPosition,\n      _ = void 0 === $ ? Z.monthLegendPosition : $,\n      ee = e.monthSpacing,\n      te = void 0 === ee ? Z.monthSpacing : ee,\n      le = e.dayBorderColor,\n      ce = void 0 === le ? Z.dayBorderColor : le,\n      he = e.dayBorderWidth,\n      ue = void 0 === he ? Z.dayBorderWidth : he,\n      se = e.daySpacing,\n      ge = void 0 === se ? Z.daySpacing : se,\n      fe = e.isInteractive,\n      me = void 0 === fe ? Z.isInteractive : fe,\n      ve = e.tooltip,\n      ye = void 0 === ve ? Z.tooltip : ve,\n      pe = e.onClick,\n      xe = e.onMouseEnter,\n      be = e.onMouseLeave,\n      Se = e.onMouseMove,\n      we = e.legends,\n      Le = void 0 === we ? Z.legends : we,\n      We = e.role,\n      Me = void 0 === We ? Z.role : We,\n      Ce = o(),\n      ke = n(a, d, t),\n      ze = ke.margin,\n      Ve = ke.innerWidth,\n      Oe = ke.innerHeight,\n      Ie = ke.outerWidth,\n      He = ke.outerHeight,\n      De = oe({\n        width: Ve,\n        height: Oe,\n        from: x,\n        to: S,\n        direction: v,\n        yearSpacing: R,\n        monthSpacing: te,\n        daySpacing: ge,\n        align: c\n      }),\n      Be = De.months,\n      Ee = De.years,\n      Pe = F(De, de),\n      Fe = ne({\n        data: f,\n        minValue: W,\n        maxValue: C,\n        colors: s,\n        colorScale: g\n      }),\n      Re = re({\n        months: Be,\n        direction: v,\n        monthLegendPosition: _,\n        monthLegendOffset: U\n      }),\n      Te = ie({\n        years: Ee,\n        direction: v,\n        yearLegendPosition: B,\n        yearLegendOffset: H\n      }),\n      Ye = ae({\n        days: Pe.days,\n        data: f,\n        colorScale: Fe,\n        emptyColor: p\n      }),\n      je = i(z),\n      qe = i(k);\n    return w(r, {\n      width: Ie,\n      height: He,\n      margin: ze,\n      role: Me,\n      children: [Ye.map(function (e) {\n        return b(q, {\n          data: e,\n          x: e.x,\n          y: e.y,\n          size: e.size,\n          color: e.color,\n          borderWidth: ue,\n          borderColor: ce,\n          onMouseEnter: xe,\n          onMouseLeave: be,\n          onMouseMove: Se,\n          isInteractive: me,\n          tooltip: ye,\n          onClick: pe,\n          formatValue: qe\n        }, e.date.toString());\n      }), Be.map(function (e) {\n        return b(Y, {\n          path: e.path,\n          borderWidth: G,\n          borderColor: X\n        }, e.date.toString());\n      }), b(j, {\n        months: Re,\n        legend: K,\n        theme: Ce\n      }), b(T, {\n        years: Te,\n        legend: O,\n        theme: Ce\n      }), Le.map(function (e, t) {\n        var o = Fe.ticks(e.itemCount).map(function (e) {\n          return {\n            id: e,\n            label: je(e),\n            color: Fe(e)\n          };\n        });\n        return b(h, P({}, e, {\n          containerWidth: a,\n          containerHeight: d,\n          data: o\n        }), t);\n      })]\n    });\n  },\n  he = function he(e) {\n    var o = e.isInteractive,\n      n = void 0 === o ? Z.isInteractive : o,\n      i = e.renderWrapper,\n      r = e.theme,\n      a = F(e, le);\n    return b(t, {\n      isInteractive: n,\n      renderWrapper: i,\n      theme: r,\n      children: b(ce, P({\n        isInteractive: n\n      }, a))\n    });\n  },\n  ue = M(\"%Y-%m-%d\"),\n  se = function se(e) {\n    var t,\n      o,\n      n = e.direction,\n      i = e.daySpacing,\n      r = e.offset,\n      a = e.square,\n      d = e.totalDays,\n      l = e.width,\n      c = e.height;\n    \"horizontal\" === n ? (l -= r, t = 7, o = Math.ceil(d / 7)) : (c -= r, o = 7, t = Math.ceil(d / 7));\n    var h = (c - i * (t + 1)) / t,\n      u = (l - i * (o + 1)) / o,\n      s = Math.min(h, u);\n    return {\n      columns: o,\n      rows: t,\n      cellHeight: a ? s : h,\n      cellWidth: a ? s : u\n    };\n  };\nvar ge = function ge(e) {\n    var t = e.direction,\n      o = e.colorScale,\n      n = e.emptyColor,\n      i = e.from,\n      r = e.to,\n      a = e.data,\n      d = e.cellWidth,\n      l = e.cellHeight,\n      c = e.daySpacing,\n      h = e.offset,\n      u = c,\n      s = c;\n    \"horizontal\" === t ? u += h : s += h;\n    var g = i || a[0].date,\n      f = r || a[a.length - 1].date,\n      m = V(g) ? g : new Date(g),\n      v = V(f) ? f : new Date(f),\n      y = D(m, v).map(function (e) {\n        return {\n          date: e,\n          day: ue(e)\n        };\n      }).map(function (e) {\n        var i = a.find(function (t) {\n            return t.day === e.day;\n          }),\n          r = function (e) {\n            var t = e.startDate,\n              o = e.date,\n              n = e.direction,\n              i = O.count(t, o),\n              r = o.getMonth(),\n              a = o.getFullYear(),\n              d = 0,\n              l = 0;\n            return \"horizontal\" === n ? (d = i, l = o.getDay()) : (d = o.getDay(), l = i), {\n              currentColumn: d,\n              year: a,\n              currentRow: l,\n              firstWeek: i,\n              month: r,\n              date: o\n            };\n          }({\n            startDate: m,\n            date: e.date,\n            direction: t\n          }),\n          h = r.currentColumn,\n          g = r.currentRow,\n          f = r.firstWeek,\n          v = r.year,\n          y = r.month,\n          p = r.date,\n          x = {\n            x: u + c * h + d * h,\n            y: s + c * g + l * g\n          };\n        return i ? P({}, i, {\n          coordinates: x,\n          firstWeek: f,\n          month: y,\n          year: v,\n          date: p,\n          color: o(i.value),\n          width: d,\n          height: l\n        }) : P({}, e, {\n          coordinates: x,\n          firstWeek: f,\n          month: y,\n          year: v,\n          date: p,\n          color: n,\n          width: d,\n          height: l\n        });\n      });\n    return y;\n  },\n  fe = function fe(e) {\n    var t = e.cellHeight,\n      o = e.cellWidth,\n      n = e.direction,\n      i = e.daySpacing,\n      r = e.ticks,\n      a = void 0 === r ? [1, 3, 5] : r,\n      d = e.arrayOfWeekdays,\n      l = void 0 === d ? [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"] : d,\n      c = o + i,\n      h = t + i;\n    return a.map(function (e) {\n      return {\n        value: l[e],\n        rotation: \"horizontal\" === n ? 0 : -90,\n        y: \"horizontal\" === n ? h * (e + 1) - h / 3 : 0,\n        x: \"horizontal\" === n ? 0 : c * (e + 1) - c / 3\n      };\n    });\n  },\n  me = function me(e) {\n    var t = e.direction,\n      o = e.daySpacing,\n      n = e.days,\n      i = e.cellHeight,\n      r = e.cellWidth;\n    return n.reduce(function (e, n) {\n      if (e.weeks.length === n.firstWeek) {\n        e.weeks.push(n);\n        var a = n.year + \"-\" + n.month;\n        if (Object.keys(e.months).includes(a)) \"horizontal\" === t ? e.months[a].bbox.width = (n.firstWeek - e.months[a].firstWeek) * (r + o) : e.months[a].bbox.height = (n.firstWeek - e.months[a].firstWeek) * (i + o);else {\n          var d = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n          };\n          \"horizontal\" === t ? (d.x = n.coordinates.x - o, d.height = i + o, d.width = r + 2 * o) : (d.y = n.coordinates.y - o, d.height = i + 2 * o, d.width = r + 2 * o), e.months[a] = {\n            date: n.date,\n            bbox: d,\n            firstWeek: n.firstWeek,\n            month: 0,\n            year: 0\n          };\n        }\n      }\n      return e;\n    }, {\n      months: {},\n      weeks: []\n    });\n  },\n  ve = function ve(e) {\n    var t,\n      o,\n      n = e.from,\n      i = e.to,\n      r = e.data;\n    return t = n ? V(n) ? n : new Date(n) : r[0].date, o = n && i ? V(i) ? i : new Date(i) : r[r.length - 1].date, t.getDay() + E.count(t, o);\n  },\n  ye = g(function (e) {\n    var t = e.data,\n      o = e.x,\n      n = e.ry,\n      i = void 0 === n ? 5 : n,\n      r = e.rx,\n      a = void 0 === r ? 5 : r,\n      d = e.y,\n      l = e.width,\n      c = e.height,\n      h = e.color,\n      u = e.borderWidth,\n      s = e.borderColor,\n      g = e.isInteractive,\n      m = e.tooltip,\n      y = e.onMouseEnter,\n      p = e.onMouseMove,\n      x = e.onMouseLeave,\n      S = e.onClick,\n      w = e.formatValue,\n      W = L(),\n      M = W.showTooltipFromEvent,\n      C = W.hideTooltip,\n      k = f(function (e) {\n        if (\"value\" in t) {\n          var o = P({}, t, {\n            value: w(t.value)\n          });\n          M(v(m, P({}, o)), e), null == y || y(t, e);\n        }\n      }, [M, m, t, y, w]),\n      z = f(function (e) {\n        if (\"value\" in t) {\n          var o = P({}, t, {\n            value: w(t.value)\n          });\n          M(v(m, P({}, o)), e), null == p || p(t, e);\n        }\n      }, [M, m, t, p, w]),\n      V = f(function (e) {\n        \"value\" in t && (C(), null == x || x(t, e));\n      }, [C, t, x]),\n      O = f(function (e) {\n        return null == S ? void 0 : S(t, e);\n      }, [t, S]);\n    return b(\"rect\", {\n      x: o,\n      y: d,\n      rx: a,\n      ry: i,\n      width: l,\n      height: c,\n      style: {\n        fill: h,\n        strokeWidth: u,\n        stroke: s\n      },\n      onMouseEnter: g ? k : void 0,\n      onMouseMove: g ? z : void 0,\n      onMouseLeave: g ? V : void 0,\n      onClick: g ? O : void 0\n    });\n  }),\n  pe = [\"isInteractive\", \"renderWrapper\", \"theme\"],\n  xe = function xe(e) {\n    var t = e.margin,\n      a = e.width,\n      d = e.height,\n      l = e.square,\n      c = void 0 === l ? J.square : l,\n      u = e.colors,\n      s = void 0 === u ? J.colors : u,\n      g = e.colorScale,\n      f = e.emptyColor,\n      v = void 0 === f ? J.emptyColor : f,\n      y = e.from,\n      p = e.to,\n      x = e.data,\n      S = e.direction,\n      L = void 0 === S ? J.direction : S,\n      W = e.minValue,\n      M = void 0 === W ? J.minValue : W,\n      C = e.maxValue,\n      k = void 0 === C ? J.maxValue : C,\n      z = e.valueFormat,\n      V = e.legendFormat,\n      O = e.monthLegend,\n      I = void 0 === O ? J.monthLegend : O,\n      H = e.monthLegendOffset,\n      D = void 0 === H ? J.monthLegendOffset : H,\n      B = e.monthLegendPosition,\n      E = void 0 === B ? J.monthLegendPosition : B,\n      F = e.weekdayLegendOffset,\n      R = void 0 === F ? J.weekdayLegendOffset : F,\n      T = e.weekdayTicks,\n      Y = e.dayBorderColor,\n      q = void 0 === Y ? J.dayBorderColor : Y,\n      A = e.dayBorderWidth,\n      X = void 0 === A ? J.dayBorderWidth : A,\n      N = e.daySpacing,\n      Z = void 0 === N ? J.daySpacing : N,\n      G = e.dayRadius,\n      K = void 0 === G ? J.dayRadius : G,\n      Q = e.isInteractive,\n      U = void 0 === Q ? J.isInteractive : Q,\n      $ = e.tooltip,\n      _ = void 0 === $ ? J.tooltip : $,\n      ee = e.onClick,\n      te = e.onMouseEnter,\n      oe = e.onMouseLeave,\n      ie = e.onMouseMove,\n      ae = e.legends,\n      de = void 0 === ae ? J.legends : ae,\n      le = e.role,\n      ce = void 0 === le ? J.role : le,\n      he = n(a, d, t),\n      ue = he.margin,\n      pe = he.innerWidth,\n      xe = he.innerHeight,\n      be = he.outerWidth,\n      Se = he.outerHeight,\n      we = m(function () {\n        return x.map(function (e) {\n          return P({}, e, {\n            date: new Date(e.day + \"T00:00:00\")\n          });\n        }).sort(function (e, t) {\n          return e.day.localeCompare(t.day);\n        });\n      }, [x]),\n      Le = o(),\n      We = ne({\n        data: we,\n        minValue: M,\n        maxValue: k,\n        colors: s,\n        colorScale: g\n      }),\n      Me = ve({\n        from: y,\n        to: p,\n        data: we\n      }),\n      Ce = se({\n        square: c,\n        offset: R,\n        totalDays: Me,\n        width: pe,\n        height: xe,\n        daySpacing: Z,\n        direction: L\n      }),\n      ke = Ce.cellHeight,\n      ze = Ce.cellWidth,\n      Ve = ge({\n        offset: R,\n        colorScale: We,\n        emptyColor: v,\n        cellHeight: ke,\n        cellWidth: ze,\n        from: y,\n        to: p,\n        data: we,\n        direction: L,\n        daySpacing: Z\n      }),\n      Oe = Object.values(me({\n        daySpacing: Z,\n        direction: L,\n        cellHeight: ke,\n        cellWidth: ze,\n        days: Ve\n      }).months),\n      Ie = fe({\n        direction: L,\n        cellHeight: ke,\n        cellWidth: ze,\n        daySpacing: Z,\n        ticks: T\n      }),\n      He = re({\n        months: Oe,\n        direction: L,\n        monthLegendPosition: E,\n        monthLegendOffset: D\n      }),\n      De = i(z),\n      Be = i(V);\n    return w(r, {\n      width: be,\n      height: Se,\n      margin: ue,\n      role: ce,\n      children: [Ie.map(function (e) {\n        return b(\"text\", {\n          transform: \"translate(\" + e.x + \",\" + e.y + \") rotate(\" + e.rotation + \")\",\n          textAnchor: \"left\",\n          style: Le.labels.text,\n          children: e.value\n        }, e.value);\n      }), Ve.map(function (e) {\n        return b(ye, {\n          data: e,\n          x: e.coordinates.x,\n          rx: K,\n          y: e.coordinates.y,\n          ry: K,\n          width: ze,\n          height: ke,\n          color: e.color,\n          borderWidth: X,\n          borderColor: q,\n          onMouseEnter: te,\n          onMouseLeave: oe,\n          onMouseMove: ie,\n          isInteractive: U,\n          tooltip: _,\n          onClick: ee,\n          formatValue: De\n        }, e.date.toString());\n      }), b(j, {\n        months: He,\n        legend: I,\n        theme: Le\n      }), de.map(function (e, t) {\n        var o = We.ticks(e.itemCount).map(function (e) {\n          return {\n            id: e,\n            label: Be(e),\n            color: We(e)\n          };\n        });\n        return b(h, P({}, e, {\n          containerWidth: a,\n          containerHeight: d,\n          data: o\n        }), t);\n      })]\n    });\n  },\n  be = function be(e) {\n    var o = e.isInteractive,\n      n = void 0 === o ? J.isInteractive : o,\n      i = e.renderWrapper,\n      r = e.theme,\n      a = F(e, pe);\n    return b(t, {\n      isInteractive: n,\n      renderWrapper: i,\n      theme: r,\n      children: b(xe, P({\n        isInteractive: n\n      }, a))\n    });\n  },\n  Se = function Se(e) {\n    return b(a, {\n      children: function children(t) {\n        var o = t.width,\n          n = t.height;\n        return b(be, P({\n          width: o,\n          height: n\n        }, e));\n      }\n    });\n  },\n  we = function we(e) {\n    return b(a, {\n      children: function children(t) {\n        var o = t.width,\n          n = t.height;\n        return b(he, P({\n          width: o,\n          height: n\n        }, e));\n      }\n    });\n  },\n  Le = [\"months\", \"years\"],\n  We = [\"isInteractive\", \"renderWrapper\", \"theme\"],\n  Me = function Me(e, t, o, n, i, r) {\n    var a = c(t, e),\n      d = a[0],\n      h = a[1];\n    return o.find(function (e) {\n      return \"value\" in e && l(e.x + r.left - i / 2, e.y + r.top - i / 2, n + i, n + i, d, h);\n    });\n  },\n  Ce = g(function (e) {\n    var t = e.margin,\n      r = e.width,\n      a = e.height,\n      l = e.pixelRatio,\n      c = void 0 === l ? G.pixelRatio : l,\n      h = e.align,\n      g = void 0 === h ? G.align : h,\n      m = e.colors,\n      v = void 0 === m ? G.colors : m,\n      S = e.colorScale,\n      w = e.data,\n      W = e.direction,\n      M = void 0 === W ? G.direction : W,\n      C = e.emptyColor,\n      k = void 0 === C ? G.emptyColor : C,\n      z = e.from,\n      V = e.to,\n      O = e.minValue,\n      I = void 0 === O ? G.minValue : O,\n      H = e.maxValue,\n      D = void 0 === H ? G.maxValue : H,\n      B = e.valueFormat,\n      E = e.legendFormat,\n      R = e.yearLegend,\n      T = void 0 === R ? G.yearLegend : R,\n      Y = e.yearLegendOffset,\n      j = void 0 === Y ? G.yearLegendOffset : Y,\n      q = e.yearLegendPosition,\n      A = void 0 === q ? G.yearLegendPosition : q,\n      X = e.yearSpacing,\n      N = void 0 === X ? G.yearSpacing : X,\n      Z = e.monthLegend,\n      J = void 0 === Z ? G.monthLegend : Z,\n      K = e.monthLegendOffset,\n      Q = void 0 === K ? G.monthLegendOffset : K,\n      U = e.monthLegendPosition,\n      $ = void 0 === U ? G.monthLegendPosition : U,\n      _ = e.monthSpacing,\n      ee = void 0 === _ ? G.monthSpacing : _,\n      te = e.dayBorderColor,\n      de = void 0 === te ? G.dayBorderColor : te,\n      le = e.dayBorderWidth,\n      ce = void 0 === le ? G.dayBorderWidth : le,\n      he = e.daySpacing,\n      ue = void 0 === he ? G.daySpacing : he,\n      se = e.isInteractive,\n      ge = void 0 === se ? G.isInteractive : se,\n      fe = e.tooltip,\n      me = void 0 === fe ? G.tooltip : fe,\n      ve = e.onClick,\n      ye = e.onMouseEnter,\n      pe = e.onMouseLeave,\n      xe = e.onMouseMove,\n      be = e.legends,\n      Se = void 0 === be ? G.legends : be,\n      we = y(null),\n      We = n(r, a, t),\n      Ce = We.innerWidth,\n      ke = We.innerHeight,\n      ze = We.outerWidth,\n      Ve = We.outerHeight,\n      Oe = We.margin,\n      Ie = oe({\n        width: Ce,\n        height: ke,\n        from: z,\n        to: V,\n        direction: M,\n        yearSpacing: N,\n        monthSpacing: ee,\n        daySpacing: ue,\n        align: g\n      }),\n      He = Ie.months,\n      De = Ie.years,\n      Be = F(Ie, Le),\n      Ee = ne({\n        data: w,\n        minValue: I,\n        maxValue: D,\n        colors: v,\n        colorScale: S\n      }),\n      Pe = re({\n        months: He,\n        direction: M,\n        monthLegendPosition: $,\n        monthLegendOffset: Q\n      }),\n      Fe = ie({\n        years: De,\n        direction: M,\n        yearLegendPosition: A,\n        yearLegendOffset: j\n      }),\n      Re = ae({\n        days: Be.days,\n        data: w,\n        colorScale: Ee,\n        emptyColor: k\n      }),\n      Te = p(null),\n      Ye = Te[0],\n      je = Te[1],\n      qe = o(),\n      Ae = i(B),\n      Xe = i(E),\n      Ne = L(),\n      Ze = Ne.showTooltipFromEvent,\n      Ge = Ne.hideTooltip;\n    x(function () {\n      var e;\n      if (we.current) {\n        we.current.width = ze * c, we.current.height = Ve * c;\n        var t = we.current.getContext(\"2d\");\n        t && (t.scale(c, c), t.fillStyle = qe.background, t.fillRect(0, 0, ze, Ve), t.translate(Oe.left, Oe.top), Re.forEach(function (e) {\n          t.fillStyle = e.color, ce > 0 && (t.strokeStyle = de, t.lineWidth = ce), t.beginPath(), t.rect(e.x, e.y, e.size, e.size), t.fill(), ce > 0 && t.stroke();\n        }), t.textAlign = \"center\", t.textBaseline = \"middle\", t.fillStyle = null != (e = qe.labels.text.fill) ? e : \"\", t.font = qe.labels.text.fontSize + \"px \" + qe.labels.text.fontFamily, Pe.forEach(function (e) {\n          t.save(), t.translate(e.x, e.y), t.rotate(d(e.rotation)), t.fillText(String(J(e.year, e.month, e.date)), 0, 0), t.restore();\n        }), Fe.forEach(function (e) {\n          t.save(), t.translate(e.x, e.y), t.rotate(d(e.rotation)), t.fillText(String(T(e.year)), 0, 0), t.restore();\n        }), Se.forEach(function (e) {\n          var o = Ee.ticks(e.itemCount).map(function (e) {\n            return {\n              id: e,\n              label: Xe(e),\n              color: Ee(e)\n            };\n          });\n          u(t, P({}, e, {\n            data: o,\n            containerWidth: Ce,\n            containerHeight: ke,\n            theme: qe\n          }));\n        }));\n      }\n    }, [we, ke, Ce, ze, Ve, c, Oe, Re, de, ce, S, T, Fe, J, Pe, Se, qe, Xe, Ee]);\n    var Je = f(function (e) {\n        if (we.current) {\n          var t = Me(e, we.current, Re, Re[0].size, ce, Oe);\n          if (t) {\n            if (je(t), !(\"value\" in t)) return;\n            var o = P({}, t, {\n              value: Ae(t.value),\n              data: P({}, t.data)\n            });\n            Ze(s.createElement(me, P({}, o)), e), !Ye && (null == ye || ye(t, e)), null == xe || xe(t, e), Ye && (null == pe || pe(t, e));\n          } else Ge(), t && (null == pe || pe(t, e));\n        }\n      }, [we, Ye, Oe, Re, je, Ae, ce, Ze, Ge, ye, xe, pe, me]),\n      Ke = f(function () {\n        je(null), Ge();\n      }, [je, Ge]),\n      Qe = f(function (e) {\n        if (ve && we.current) {\n          var t = Me(e, we.current, Re, Re[0].size, ue, Oe);\n          t && ve(t, e);\n        }\n      }, [we, ue, Oe, Re, ve]);\n    return b(\"canvas\", {\n      ref: we,\n      width: ze * c,\n      height: Ve * c,\n      style: {\n        width: ze,\n        height: Ve\n      },\n      onMouseEnter: ge ? Je : void 0,\n      onMouseMove: ge ? Je : void 0,\n      onMouseLeave: ge ? Ke : void 0,\n      onClick: ge ? Qe : void 0\n    });\n  }),\n  ke = function ke(e) {\n    var o = e.isInteractive,\n      n = void 0 === o ? G.isInteractive : o,\n      i = e.renderWrapper,\n      r = e.theme,\n      a = F(e, We);\n    return b(t, {\n      isInteractive: n,\n      renderWrapper: i,\n      theme: r,\n      children: b(Ce, P({\n        isInteractive: n\n      }, a))\n    });\n  },\n  ze = function ze(e) {\n    return b(a, {\n      children: function children(t) {\n        var o = t.width,\n          n = t.height;\n        return b(ke, P({\n          width: o,\n          height: n\n        }, e));\n      }\n    });\n  };\nexport { he as Calendar, ke as CalendarCanvas, we as ResponsiveCalendar, ze as ResponsiveCalendarCanvas, Se as ResponsiveTimeRange, be as TimeRange, _ as bindDaysData, G as calendarCanvasDefaultProps, Z as calendarDefaultProps, ge as computeCellPositions, se as computeCellSize, K as computeDomain, $ as computeLayout, te as computeMonthLegendPositions, me as computeMonthLegends, ve as computeTotalDays, fe as computeWeekdays, ee as computeYearLegendPositions, J as timeRangeDefaultProps, oe as useCalendarLayout, ne as useColorScale, ae as useDays, re as useMonthLegends, ie as useYearLegends };","map":null,"metadata":{},"sourceType":"module"}